<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile"> <link rel="icon" type="image/png" href="http://example.com/myicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>상품등록</h1>
    <form action="/items/create-item" method="post" name="Createitem">
        <p>상품명  <input type="text" name="name" placeholder="상품명" minlength="4"></p>
        <p>매입가  <input id="buy" type="number" name="buyPrice" placeholder="매입가" min="100" maxlength="10" ></p>
        <p>판매가  <input id="sale" type="number" name="salePrice" placeholder="판매가"/></p>
        <p>재고수량  <input type="number" name="stock" placeholder="재고" min=10 max="1000" maxlength="4"/></p>
        <div style="line-height:50%;">
            <br>
            <br>
        </div>
        <div class="button-box">
            <button type="submit">등록</button>
        </div>
    </form>
    
    <script>
         //판매가 조건 // 
        const sale = document.getElementById('sale');
        const buy = document.getElementById('buy');
        
        let minmin = buy;
        let satus = ( minmin >= sale) ? sale : '매입가보다 높아야 합니다.'
        document.getElementById('sale').innertext = status;


        // json 형식으로 자료보내기 // 
        const Createitem = document.querySelector('.form') 

        Createitem.addEventListener('submit', event => {
            event.preventDefault();
            const CreateItemData = new CreateItemData(Createitem);
            const data = Object.fromEntries(CreateItemData);

        fetch("/items/create-item", {
            method : 'get',
            headers : {
                "Content-Type" : "application/json"
            },
            body : JSON.stringify(data),
        }).then(res => res.json())
          .then(data => console.log(data))
          .catch(error => console.log(error))
    });
    </script>
</body>
</html>